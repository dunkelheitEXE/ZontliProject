<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Zontli</title>
</head>
<body>
    <div class="container">
        <h1>Personal information</h1>
        <form (ngSubmit)="onSubmit(signupForm)" #signupForm="ngForm">
            <div class="column1">
                <!-- Full Name -->
                <input type="text" placeholder="Full name" name="fullName" id="fullName" 
                    ngModel required minlength="3" maxlength="100" pattern="[A-Za-z\s]+"
                    #fullName="ngModel">
                <div *ngIf="fullName.invalid && (fullName.dirty || fullName.touched)" class="error-message">
                <div *ngIf="fullName.errors?.['required']">Full name is required</div>
                <div *ngIf="fullName.errors?.['minlength']">Full name must be at least 3 characters</div>
                <div *ngIf="fullName.errors?.['pattern']">Only letters and spaces allowed</div>
                </div>

                <!-- Date -->
                <input type="date" name="date" id="date" ngModel required #date="ngModel">
                <div *ngIf="date.invalid && (date.dirty || date.touched)" class="error-message">
                <div *ngIf="date.errors?.['required']">Date is required</div>
                </div>

                <!-- Nationality -->
                <input type="text" placeholder="Nationality" name="nationality" id="nationality" 
                    ngModel required minlength="3" maxlength="56" pattern="[A-Za-z\s]+"
                    #nationality="ngModel">
                <div *ngIf="nationality.invalid && (nationality.dirty || nationality.touched)" class="error-message">
                <div *ngIf="nationality.errors?.['required']">Nationality is required</div>
                <div *ngIf="nationality.errors?.['minlength']">Nationality must be at least 3 characters</div>
                <div *ngIf="nationality.errors?.['pattern']">Only letters allowed</div>
                </div>

                <!-- Gender -->
                <select name="gender" id="gender" ngModel required #gender="ngModel">
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                </select>
                <div *ngIf="gender.invalid && (gender.dirty || gender.touched)" class="error-message">
                <div *ngIf="gender.errors?.['required']">Gender is required</div>
                </div>

                <!-- ID -->
                <input type="text" placeholder="ID" name="id" id="id" ngModel #id="ngModel">

                <!-- RFC -->
                <input type="text" placeholder="RFC" name="rfc" id="rfc" 
                    ngModel minlength="10" maxlength="13" pattern="[A-ZÃ‘&]{3,4}[0-9]{6}[A-Z0-9]{2,3}"
                    #rfc="ngModel">
                <div *ngIf="rfc.invalid && (rfc.dirty || rfc.touched)" class="error-message">
                <div *ngIf="rfc.errors?.['minlength']">RFC must be at least 10 characters</div>
                <div *ngIf="rfc.errors?.['maxlength']">RFC cannot exceed 13 characters</div>
                <div *ngIf="rfc.errors?.['pattern']">Enter a valid RFC format</div>
                </div>
            </div>

            <div class="column2">
                <!-- Address -->
                <input type="text" placeholder="Address" name="address" id="address" 
                    ngModel minlength="5" maxlength="200" #address="ngModel">
                <div *ngIf="address.invalid && (address.dirty || address.touched)" class="error-message">
                <div *ngIf="address.errors?.['minlength']">Address must be at least 5 characters</div>
                </div>

                <!-- ZIP Code -->
                <input type="text" placeholder="ZIP-code" name="zipCode" id="zipCode" 
                    ngModel required minlength="4" maxlength="10" pattern="[0-9A-Za-z\s-]+"
                    #zipCode="ngModel">
                <div *ngIf="zipCode.invalid && (zipCode.dirty || zipCode.touched)" class="error-message">
                <div *ngIf="zipCode.errors?.['required']">ZIP code is required</div>
                <div *ngIf="zipCode.errors?.['minlength']">ZIP code must be at least 4 characters</div>
                <div *ngIf="zipCode.errors?.['pattern']">Enter a valid postal code</div>
                </div>

                <!-- Phone Number -->
                <input type="tel" placeholder="Phone number" name="phoneNumber" id="phoneNumber" 
                    ngModel required pattern="[0-9]{8,15}" #phoneNumber="ngModel">
                <div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)" class="error-message">
                <div *ngIf="phoneNumber.errors?.['required']">Phone number is required</div>
                <div *ngIf="phoneNumber.errors?.['pattern']">Enter a valid phone number with 8 to 15 digits</div>
                </div>

                <!-- Email -->
                <input type="email" placeholder="Email" name="email" id="email" 
                    ngModel required email #email="ngModel">
                <div *ngIf="email.invalid && (email.dirty || email.touched)" class="error-message">
                <div *ngIf="email.errors?.['required']">Email is required</div>
                <div *ngIf="email.errors?.['email']">Enter a valid email address</div>
                </div>

                <!-- Password -->
                <input type="password" placeholder="Password" name="password" id="password" 
                    ngModel required minlength="8" maxlength="32"
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&]).{8,32}" 
                    #password="ngModel">
                <div *ngIf="password.invalid && (password.dirty || password.touched)" class="error-message">
                <div *ngIf="password.errors?.['required']">Password is required</div>
                <div *ngIf="password.errors?.['minlength']">Password must be at least 8 characters</div>
                <div *ngIf="password.errors?.['pattern']">Must include uppercase, lowercase, number, and special character</div>
                </div>

                <!-- Confirm Password -->
                <input type="password" placeholder="Confirm password" name="confirmPassword" id="confirmPassword" 
                    ngModel required #confirmPassword="ngModel">
                <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="error-message">
                <div *ngIf="confirmPassword.errors?.['required']">Please confirm your password</div>
                </div>
                <div *ngIf="password.value && confirmPassword.value && password.value !== confirmPassword.value" 
                    class="error-message">
                Passwords do not match
                </div>
            </div>

            <button type="submit" [disabled]="signupForm.invalid">Sign Up</button>
            </form>
    </div>
</body>
</html>